@{
     ViewBag.Title = "AddCompany";
     var companiesList = ViewBag.companiesList;
}
@model SemesterProject.Model.AddCompany

<div class="row">
     <div class="col-lg-12">
          <div class="card">
               <div class="card-body">
                    <h4 class="header-title">Add a New Company</h4>
                    <p class="sub-header">Here you can add a new company.</p>

                    @Html.ValidationSummary(true)
                    @using (Html.BeginForm("AddCompany", "Admin", FormMethod.Post, new { @id = "AddCompanyForm", enctype = "multipart/form-data" }))
                    {
                         @Html.AntiForgeryToken()
                         <form class="needs-validation" novalidate>
                              <div class="row">
                                   <div class="form-group col-lg-4">
                                        @Html.LabelFor(m => m.Name, "Company Name", new { @for = "validationCustom01" })
                                        @Html.TextBoxFor(m => m.Name, new
                                   {
                                        type = "text",
                                        @class = "form-control",
                                        id = "validationCustom01",
                                        placeholder = "Name",
                                        required = true,
                                        title = "Company Name",
                                        value = ""
                                   })
                                   </div>
                                   <div class="form-group col-lg-4">
                                        @Html.LabelFor(m => m.Description, "Description", new { @for = "validationCustom02" })
                                        @Html.TextBoxFor(m => m.Description, new
                                   {
                                        type = "text",
                                        @class = "form-control",
                                        id = "validationCustom02",
                                        placeholder = "Description",
                                        required = true,
                                        title = "Description",
                                        value = ""
                                   })
                                   </div>
                                   <div class="form-group col-lg-4">
                                        @Html.LabelFor(m => m.Email, "Email", new { @for = "validationCustom03" })
                                        @Html.TextBoxFor(m => m.Email, new
                                   {
                                        type = "email",
                                        @class = "form-control",
                                        id = "validationCustom03",
                                        placeholder = "Email",
                                        required = true,
                                        title = "Email",
                                        value = ""
                                   })
                                   </div>
                                   <div class="form-group col-lg-4">
                                        @Html.LabelFor(m => m.Phone, "Phone", new { @for = "validationCustom05" })
                                        @Html.TextBoxFor(m => m.Phone, new
                                   {
                                        type = "number",
                                        @class = "form-control",
                                        id = "validationCustom05",
                                        placeholder = "Phone",
                                        required = true,
                                        title = "Phone",
                                        value = ""
                                   })
                                   </div>
                                   <div class="col-lg-4">

                                        @Html.Label("Profile Picture", new { @for = "imageFile" })
                                        <input type="file" id="imageFile" required name="imageFile" accept="image/png" class="form-control" />
                                   </div>
                              </div>
                              <button class="btn btn-primary" href="#" type="submit">Add Company</button>
                         </form>
                    }
               </div>
          </div>
     </div>
</div>

<div class="row">
     @foreach (var company in companiesList)
     {
          <div class="col-lg-4">
               <div class="text-center card-box ribbon-box">
                    <img src="@Url.Content("~/assets/images/companies/" + company.Image)" class="rounded-circle img-thumbnail avatar-xl" alt="profile-image">
                    <h4 class="text-muted font-17">@company.Name</h4>
                    <div class="dropdown-divider"></div>
                    <div class="text-left">
                         <h4 class="text-primary font-13"><span class="text-dark">Description: </span>@company.Description</h4>
                         <h4 class="text-primary font-13"><span class="text-dark">Email: </span>@company.Email</h4>
                         <h4 class="text-primary font-13"><span class="text-dark">Phone: </span>@company.Phone</h4>
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="text-center">
                         <a class="btn btn-sm btn-info" href="@Url.Action("EditCompany", "Admin", new { id = company.CompanyId })">Edit</a>
                         <a class="btn btn-sm btn-danger" href="@Url.Action("DeleteCompany", "Admin", new {id = company.CompanyId})">Delete</a>
                    </div>
               </div>
          </div>
     }
</div>